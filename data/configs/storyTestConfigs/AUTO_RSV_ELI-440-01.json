{
    "CampaignConfig": {
        "ID": "Story_Campaign_Config_ID",
        "Version": 1,
        "Name": "ELI-440-01-Iteration-Config-Name",
        "Type": "V",
        "Target": "RSV",
        "Manager": [
            "person1@nhs.net"
        ],
        "Approver": [
            "person1@nhs.net"
        ],
        "Reviewer": [
            "person1@nhs.net"
        ],
        "IterationFrequency": "X",
        "IterationType": "O",
        "IterationTime": "07:00:00",
        "StartDate": "20250717",
        "EndDate": "20350717",
        "ApprovalMinimum": 0,
        "ApprovalMaximum": 0,
        "DefaultCommsRouting": "BOOK_NBS",
        "Iterations": [
            {
                "ID": "AUTO_RSV_ELI-440-01-Iteration-ID",
                "DefaultCommsRouting": "TEST_ACTION",
                "DefaultNotActionableRouting": "TEST_NOT_ACTION",
                "DefaultNotEligibleRouting": "TEST_NOT_ELI",
                "Version": 1,
                "Name": "ELI-440-01-Iteration-Config-Name",
                "IterationDate": "20240808",
                "IterationNumber": 1,
                "CommsType": "I",
                "ApprovalMinimum": 0,
                "ApprovalMaximum": 0,
                "Type": "O",
                "IterationCohorts": [
                    {
                        "CohortLabel": "elid_all_people",
                        "CohortGroup": "elid_all_people",
                        "PositiveDescription": "In elid_all_people",
                        "NegativeDescription": "Not in elid_all_people",
                        "Priority": 1
                    },
                    {
                        "CohortLabel": "elid_virtual_cohort_missing_attribute",
                        "CohortGroup": "elid_virtual_cohort_missing_attribute",
                        "PositiveDescription": "In elid_virtual_cohort_missing_attribute",
                        "NegativeDescription": "Out elid_virtual_cohort_missing_attribute",
                        "Priority": 2,
                        "Virtual": "N"
                    },
                    {
                        "CohortLabel": "elid_virtual_cohort",
                        "CohortGroup": "elid_virtual_cohort",
                        "PositiveDescription": "In elid_virtual_cohort",
                        "NegativeDescription": "Out elid_virtual_cohort",
                        "Priority": 3,
                        "Virtual": "Y"
                    },
                    {
                        "CohortLabel": "elid_virtual_cohort_2",
                        "CohortGroup": "elid_virtual_cohort",
                        "PositiveDescription": "In elid_virtual_cohort",
                        "NegativeDescription": "Out elid_virtual_cohort",
                        "Priority": 4,
                        "Virtual": "Y"
                    },
                    {
                        "CohortLabel": "elid_virtual_cohort_3",
                        "CohortGroup": "elid_virtual_cohort_3",
                        "PositiveDescription": "In elid_virtual_cohort_3",
                        "NegativeDescription": "Out elid_virtual_cohort_3",
                        "Priority": 5,
                        "Virtual": "Y"
                    }
                ],
                "IterationRules": [
                    {
                        "Type": "F",
                        "Name": "Remove under 74 Years on day of execution",
                        "Description": "Filter out anyone from the virtual cohort who is not 74 years old.",
                        "Priority": 100,
                        "AttributeLevel": "PERSON",
                        "AttributeName": "DATE_OF_BIRTH",
                        "Operator": "Y>",
                        "Comparator": "-74",
                        "CohortLabel": "elid_virtual_cohort"
                    },
                    {
                        "Type": "F",
                        "Name": "Remove under 75 Years on day of execution",
                        "Description": "Filter out anyone from the virtual cohort who is not 74 years old.",
                        "Priority": 101,
                        "AttributeLevel": "PERSON",
                        "AttributeName": "DATE_OF_BIRTH",
                        "Operator": "Y<",
                        "Comparator": "-74",
                        "CohortLabel": "elid_virtual_cohort"
                    },
                    {
                        "Type": "S",
                        "Name": "AlreadyVaccinated",
                        "Description": "## You've had your RSV vaccination.",
                        "Priority": 200,
                        "AttributeLevel": "TARGET",
                        "AttributeTarget": "RSV",
                        "AttributeName": "LAST_SUCCESSFUL_DATE",
                        "Operator": "is_not_empty",
                        "Comparator": ""
                    }
                ],
                "ActionsMapper": {
                    "TEST_ACTION": {
                        "ExternalRoutingCode": "TestAction",
                        "ActionDescription": "TestAction Description",
                        "ActionType": "ButtonWithAuthLink",
                        "UrlLink": "http://www.nhs.uk/book-rsv",
                        "UrlLabel": "Continue to booking"
                    },
                    "TEST_NOT_ACTION": {
                        "ExternalRoutingCode": "TestNotAction",
                        "ActionDescription": "TestNotAction Description",
                        "ActionType": "ButtonWithAuthLink",
                        "UrlLink": null,
                        "UrlLabel": ""
                    },
                    "TEST_NOT_ELI": {
                        "ExternalRoutingCode": "TestNotEli",
                        "ActionDescription": "TestNotEli Description",
                        "ActionType": "",
                        "UrlLink": null,
                        "UrlLabel": ""
                    }
                }
            }
        ]
    }
}
