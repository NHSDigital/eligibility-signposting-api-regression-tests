{
    "CampaignConfig": {
        "ID": "8fcb742b-45fa-4e0d-8f2f-9c2efb1f46d0",
        "Version": 1,
        "Name": "EliD RSV example config",
        "Type": "V",
        "Target": "RSV",
        "Manager": [
            "example@nhs.net"
        ],
        "Approver": [
            "example@nhs.net"
        ],
        "Reviewer": [
            "example@nhs.net"
        ],
        "IterationFrequency": "X",
        "IterationType": "O",
        "IterationTime": "07:00:00",
        "StartDate": "20250717",
        "EndDate": "20350717",
        "ApprovalMinimum": 0,
        "ApprovalMaximum": 0,
        "DefaultCommsRouting": "PLACEHOLDER_COMMS_ROUTING",
        "Iterations": [
            {
                "ID": "8fcb742b-45fa-4e0d-8f2f-9c2efb1f46d1",
                "DefaultCommsRouting": "BOOK_LOCAL|HELP_SUPPORT",
                "DefaultNotActionableRouting": "",
                "DefaultNotEligibleRouting": "CHECK_CORRECT_X",
                "Version": 1,
                "Name": "EliD RSV example config",
                "IterationDate": "20250717",
                "IterationNumber": 1,
                "CommsType": "I",
                "ApprovalMinimum": 0,
                "ApprovalMaximum": 0,
                "Type": "O",
                "IterationCohorts": [
                    {
                        "CohortLabel": "rsv_75to79_plus1day",
                        "CohortGroup": "rsv_age",
                        "PositiveDescription": "are aged between 75 and 79",
                        "NegativeDescription": "are not aged 75 to 79",
                        "Priority": 0,
                        "Virtual": "N"
                    },
                    {
                        "CohortLabel": "rsv_80_2024_plus1day",
                        "CohortGroup": "rsv_age_catchup",
                        "PositiveDescription": "turned 80 after 1st September 2024",
                        "NegativeDescription": "did not turn 80 after 1 September 2024",
                        "Priority": 10,
                        "Virtual": "N"
                    }
                ],
                "IterationRules": [
                    {
                        "Type": "S",
                        "Name": "Already Vaccinated",
                        "Description": "## You've had your RSV vaccination\n\nWe believe you were vaccinated against RSV on [[TARGET.RSV.LAST_SUCCESSFUL_DATE:DATE(%-d %B %Y)]].",
                        "Priority": 200,
                        "AttributeLevel": "TARGET",
                        "AttributeTarget": "RSV",
                        "AttributeName": "LAST_SUCCESSFUL_DATE",
                        "Operator": "Y>=",
                        "Comparator": "-25"
                    },
                    {
                        "Type": "S",
                        "Name": "No Mapping Other Setting Fallback",
                        "Code": "OtherSettingFallback",
                        "Description": "This is the Other Setting Fallback Description",
                        "Priority": 510,
                        "AttributeLevel": "PERSON",
                        "AttributeName": "CARE_HOME_FLAG",
                        "Operator": "=",
                        "Comparator": "Y",
                        "CohortLabel": "rsv_80_2024_plus1day"
                    },
                    {
                        "Type": "S",
                        "Name": "Other Setting Mapper Null RuleCode Fall back to Rule Code",
                        "Code": "OtherSettingMapperNullRuleCodeFallbackToRule_Code",
                        "Description": "Other Setting Mapper Null Rule Code Fall back to Rule Code description",
                        "Priority": 520,
                        "AttributeLevel": "PERSON",
                        "AttributeName": "DE_FLAG",
                        "Operator": "=",
                        "Comparator": "Y",
                        "CohortLabel": "rsv_80_2024_plus1day"
                    },
                    {
                        "Type": "S",
                        "Name": "Other Setting Mapper Null RuleText Fall back to Rule Description",
                        "Description": "Other Setting Mapper Null RuleText Fall back to Rule Description description",
                        "Priority": 530,
                        "AttributeLevel": "PERSON",
                        "AttributeName": "13Q_FLAG",
                        "Operator": "=",
                        "Comparator": "Y",
                        "CohortLabel": "rsv_80_2024_plus1day"
                    },
                    {
                        "Type": "S",
                        "Name": "Other Setting Mapper No RuleCode and No Rule Code",
                        "Description": "### Getting the vaccine\n\nWe believe you're living in a setting where care is provided.\n\nSpeak to a member of staff where you live about getting the RSV vaccine.",
                        "Priority": 540,
                        "AttributeLevel": "PERSON",
                        "AttributeName": "CARE_HOME_FLAG",
                        "Operator": "=",
                        "Comparator": "Y",
                        "CohortLabel": "rsv_75to79_plus1day",
                        "RuleStop": "Y"
                    },
                    {
                        "Type": "S",
                        "Name": "OtherSetting",
                        "Description": "### Getting the vaccine\n\nWe believe you're living in a setting where care is provided.\n\nSpeak to a member of staff where you live about getting the RSV vaccine.",
                        "Priority": 550,
                        "AttributeLevel": "PERSON",
                        "AttributeName": "DE_FLAG",
                        "Operator": "=",
                        "Comparator": "Y",
                        "CohortLabel": "rsv_75to79_plus1day",
                        "RuleStop": "Y"
                    },
                    {
                        "Type": "S",
                        "Name": "OtherSetting",
                        "Description": "### Getting the vaccine\n\nWe believe you're living in a setting where care is provided.\n\nSpeak to a member of staff where you live about getting the RSV vaccine.",
                        "Priority": 560,
                        "AttributeLevel": "PERSON",
                        "AttributeName": "13Q_FLAG",
                        "Operator": "=",
                        "Comparator": "Y",
                        "CohortLabel": "rsv_75to79_plus1day",
                        "RuleStop": "Y"
                    }
                ],
                "ActionsMapper": {
                    "BOOK_NBS_INFO": {
                        "ExternalRoutingCode": "BookNBSInfoText",
                        "ActionDescription": "### Book an appointment online at a pharmacy\n\nYou can book an appointment online at a pharmacy that offers the RSV vaccination. You need to be registered with a GP to do this.",
                        "ActionType": "ButtonWithAuthLinkWithInfoText",
                        "UrlLink": "https://www.nhswebsite-staging.nhs.uk/nbs/nhs-app/vita/rsv",
                        "UrlLabel": "Continue to booking"
                    },
                    "AMEND_NBS": {
                        "ExternalRoutingCode": "AmendNBS",
                        "ActionDescription": "## You have an RSV vaccination appointment booked\n\nYou can view, change or cancel your appointment below.",
                        "ActionType": "ButtonWithAuthLink",
                        "UrlLink": "https://www.nhswebsite-staging.nhs.uk/nbs/nhs-app/vita/rsv",
                        "UrlLabel": "Manage your appointment"
                    },
                    "CONTACT_GP": {
                        "ExternalRoutingCode": "ContactGP",
                        "ActionDescription": "### Get vaccinated at your GP surgery\n\nContact your GP surgery to book an appointment.",
                        "ActionType": "InfoText",
                        "UrlLink": null,
                        "UrlLabel": ""
                    },
                    "BOOK_LOCAL": {
                        "ExternalRoutingCode": "BookLocal",
                        "ActionDescription": "### Getting the vaccine\n\nYou can get an RSV vaccination at your GP surgery.\n\nYour GP surgery may contact you about getting the RSV vaccine. This may be by letter, text, phone call, email or through the NHS App. You do not need to wait to be contacted before booking your vaccination.",
                        "ActionType": "InfoText",
                        "UrlLink": null,
                        "UrlLabel": ""
                    },
                    "MANAGE_LOCAL": {
                        "ExternalRoutingCode": "ManageLocal",
                        "ActionDescription": "## You have an RSV vaccination appointment booked\n\nTo change or cancel your appointment, contact the provider you booked with.",
                        "ActionType": "CardWithText",
                        "UrlLink": null,
                        "UrlLabel": ""
                    },
                    "HELP_SUPPORT": {
                        "ExternalRoutingCode": "HelpSupportInfo",
                        "ActionDescription": "### If you think this is incorrect\n\nIf you have already had this vaccination or your personal details are wrong, visit our [help and support page](https://www.nhs.uk/nhs-app/nhs-app-help-and-support/vaccinations/check-and-book-an-rsv-vaccination).",
                        "ActionType": "InfoText",
                        "UrlLink": null,
                        "UrlLabel": ""
                    },
                    "CHECK_CORRECT_X": {
                        "ExternalRoutingCode": "HealthcareProInfo",
                        "ActionDescription": "### If you think this is incorrect\n\nSpeak to your healthcare professional if you think you should be offered this vaccine.\n\nFor anything else, visit our [help and support page](https://www.nhs.uk/nhs-app/nhs-app-help-and-support/vaccinations/check-and-book-an-rsv-vaccination).",
                        "ActionType": "InfoText",
                        "UrlLink": null,
                        "UrlLabel": ""
                    },
                    "CHECK_CORRECT_ALREADY_VACCINATED": {
                        "ExternalRoutingCode": "AlreadyVaccinatedInfo",
                        "ActionDescription": "### If you think this is incorrect\n\nIf you believe you've not been vaccinated against RSV, speak to your healthcare professional.\n\nFor anything else, visit our [help and support page](https://www.nhs.uk/nhs-app/nhs-app-help-and-support/vaccinations/check-and-book-an-rsv-vaccination).",
                        "ActionType": "InfoText",
                        "UrlLink": null,
                        "UrlLabel": ""
                    },
                    "WALKIN": {
                        "ExternalRoutingCode": "WalkIn",
                        "ActionDescription": "### Get vaccinated without an appointment\n\nYou can get an RSV vaccination at some pharmacies without needing an appointment.\n\nYou do not need to be registered with a GP to do this.",
                        "ActionType": "ActionLinkWithInfoText",
                        "UrlLink": "https://www.nhs.uk/service-search/vaccination-and-booking-services/find-a-pharmacy-where-you-can-get-a-free-rsv-vaccination",
                        "UrlLabel": "Find a pharmacy where you can get a free RSV vaccination"
                    },
                    "CHECK_CORRECT_OTHER_SETTING": {
                        "ExternalRoutingCode": "ManagedSettingInfo",
                        "ActionDescription": "### If you think this is incorrect\n\nIf you have already had this vaccination or your personal details are wrong, visit our [help and support page](https://www.nhs.uk/nhs-app/nhs-app-help-and-support/vaccinations/check-and-book-an-rsv-vaccination).",
                        "ActionType": "InfoText",
                        "UrlLink": null,
                        "UrlLabel": ""
                    }
                },
                "RulesMapper": {
                    "ALREADY_JABBED": {
                        "RuleNames": [
                            "Already Vaccinated"
                        ],
                        "RuleCode": "Mapper:RuleCode:AlreadyVaccinated",
                        "RuleText": "Mapper:RuleText:This is the AlreadyVaccinated RulesMapper RuleText"
                    },
                    "OTHER_SETTINGS1": {
                        "RuleNames": [
                            "Other Setting Mapper Null RuleCode Fall back to Rule Code"
                        ],
                        "RuleCode": null,
                        "RuleText": "Mapper:RuleText:Other Setting Mapper Null RuleCode Fall back to Rule Code Description"
                    },
                    "OTHER_SETTINGS2": {
                        "RuleNames": [
                            "Other Setting Mapper Null RuleText Fall back to Rule Description"
                        ],
                        "RuleCode": "Mapper:RuleCode:OtherSettingMapperNullRuleTextFallbacktoRuleName",
                        "RuleText": null
                    },
                    "OTHER_SETTINGS3": {
                        "RuleNames": [
                            "Other Setting Mapper No RuleCode and No Rule Code"
                        ],
                        "RuleText": "Mapper:RuleText:Other Setting Mapper No RuleCode and No Rule Code"
                    }
                }
            }
        ]
    }
}
