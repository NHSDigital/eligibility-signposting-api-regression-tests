{
  "CampaignConfig": {
    "ID": "AUTO_RSV_ELI-440-02-3-Campaign-ID",
    "Version": 1,
    "Name": "ELI-440-02-3-Iteration-Config-Name",
    "Type": "V",
    "Target": "RSV",
    "Manager": [
      "person1@nhs.net"
    ],
    "Approver": [
      "person1@nhs.net"
    ],
    "Reviewer": [
      "person1@nhs.net"
    ],
    "IterationFrequency": "X",
    "IterationType": "O",
    "IterationTime": "07:00:00",
    "StartDate": "20250717",
    "EndDate": "20350717",
    "ApprovalMinimum": 0,
    "ApprovalMaximum": 0,
    "DefaultCommsRouting": "BOOK_NBS",
    "Iterations": [
      {
        "ID": "AUTO_RSV_ELI-440-02-3-Iteration-ID",
        "DefaultCommsRouting": "TEST_ACTION",
        "DefaultNotActionableRouting": "TEST_NOT_ACTION",
        "DefaultNotEligibleRouting": "TEST_NOT_ELI",
        "Version": 1,
        "Name": "ELI-440-02-3-Iteration-Config-Name",
        "IterationDate": "20240808",
        "IterationNumber": 1,
        "CommsType": "I",
        "ApprovalMinimum": 0,
        "ApprovalMaximum": 0,
        "Type": "O",
        "IterationCohorts": [
          {
            "CohortLabel": "elid_virtual_cohort",
            "CohortGroup": "elid_virtual_cohort",
            "PositiveDescription": "In elid_virtual_cohort",
            "NegativeDescription": "Out elid_virtual_cohort",
            "Priority": 1,
            "Virtual": "Y"
          },
          {
            "CohortLabel": "elid_virtual_cohort_2",
            "CohortGroup": "elid_virtual_cohort_2",
            "PositiveDescription": "In elid_virtual_cohort_2",
            "NegativeDescription": "Out elid_virtual_cohort_2",
            "Priority": 2,
            "Virtual": "Y"
          }
        ],
        "IterationRules": [
          {
            "Type": "F",
            "Name": "Remove under 74 Years on day of execution from first virtual cohort",
            "Description": "Filter out anyone from the virtual cohort who is not 74 years old.",
            "Priority": 100,
            "AttributeLevel": "PERSON",
            "AttributeName": "DATE_OF_BIRTH",
            "Operator": "Y>",
            "Comparator": "-74",
            "CohortLabel": "elid_virtual_cohort"
          },
          {
            "Type": "F",
            "Name": "Remove over 74 Years on day of execution from first virtual cohort",
            "Description": "Filter out anyone from the virtual cohort who is not 74 years old.",
            "Priority": 101,
            "AttributeLevel": "PERSON",
            "AttributeName": "DATE_OF_BIRTH",
            "Operator": "Y<",
            "Comparator": "-74",
            "CohortLabel": "elid_virtual_cohort"
          },
          {
            "Type": "F",
            "Name": "Remove 75 Years on day of execution from second virtual cohort",
            "Description": "Filter out anyone from the virtual cohort who is exactly 75 years old from second virtual cohort.",
            "Priority": 102,
            "AttributeLevel": "PERSON",
            "AttributeName": "DATE_OF_BIRTH",
            "Operator": "=",
            "Comparator": "<<DATE_AGE_75>>",
            "CohortLabel": "elid_virtual_cohort_2"
          },
          {
            "Type": "S",
            "Name": "AlreadyVaccinated",
            "Description": "## You've had your RSV vaccination.",
            "Priority": 200,
            "AttributeLevel": "TARGET",
            "AttributeTarget": "RSV",
            "AttributeName": "LAST_SUCCESSFUL_DATE",
            "Operator": "is_not_empty",
            "Comparator": "",
            "CohortLabel": "elid_virtual_cohort",
            "RuleStop": "Y"
          },
          {
            "Type": "S",
            "Name": "AlreadyVaccinated",
            "Description": "## You've had your RSV vaccination.",
            "Priority": 201,
            "AttributeLevel": "TARGET",
            "AttributeTarget": "RSV",
            "AttributeName": "LAST_SUCCESSFUL_DATE",
            "Operator": "is_not_empty",
            "Comparator": "",
            "CohortLabel": "elid_virtual_cohort_2"
          }
        ],
        "ActionsMapper": {
          "TEST_ACTION": {
            "ExternalRoutingCode": "TestAction",
            "ActionDescription": "TestAction Description",
            "ActionType": "ButtonWithAuthLink",
            "UrlLink": "http://www.nhs.uk/book-rsv",
            "UrlLabel": "Continue to booking"
          },
          "TEST_NOT_ACTION": {
            "ExternalRoutingCode": "TestNotAction",
            "ActionDescription": "TestNotAction Description",
            "ActionType": "ButtonWithAuthLink",
            "UrlLink": null,
            "UrlLabel": ""
          },
          "TEST_NOT_ELI": {
            "ExternalRoutingCode": "TestNotEli",
            "ActionDescription": "TestNotEli Description",
            "ActionType": "",
            "UrlLink": null,
            "UrlLabel": ""
          }
        }
      }
    ]
  }
}
