{
    "CampaignConfig": {
        "ID": "Story_Campaign_Config_ID",
        "Version": 1,
        "Name": "ELI-223-08-Iteration-Config-Name",
        "Type": "V",
        "Target": "RSV",
        "Manager": [
            "person1@nhs.net"
        ],
        "Approver": [
            "person1@nhs.net"
        ],
        "Reviewer": [
            "person1@nhs.net"
        ],
        "IterationFrequency": "X",
        "IterationType": "O",
        "IterationTime": "07:00:00",
        "StartDate": "20250717",
        "EndDate": "20350717",
        "ApprovalMinimum": 0,
        "ApprovalMaximum": 0,
        "DefaultCommsRouting": "BOOK_NBS",
        "Iterations": [
            {
                "ID": "AUTO_RSV_ELI-223-08-Iteration-ID",
                "DefaultCommsRouting": "TEST_ACTION",
                "DefaultNotActionableRouting": "TEST_NOT_ACTION",
                "DefaultNotEligibleRouting": "TEST_NOT_ELI",
                "Version": 1,
                "Name": "ELI-223-08-Iteration-Config-Name",
                "IterationDate": "20240808",
                "IterationNumber": 1,
                "CommsType": "I",
                "ApprovalMinimum": 0,
                "ApprovalMaximum": 0,
                "Type": "O",
                "IterationCohorts": [
                    {
                        "CohortLabel": "rsv_eli_223_cohort_1",
                        "CohortGroup": "rsv_eli_223_cohort_group",
                        "PositiveDescription": "are a member of eli_223_cohort_group",
                        "NegativeDescription": "are not a member of eli_223_cohort_group",
                        "Priority": 0
                    }
                ],
                "IterationRules": [
                    {
                        "Type": "S",
                        "Name": "Target Substitution LAST_SUCCESSFUL_DATE",
                        "Description": "Target Substitution LAST_SUCCESSFUL_DATE [[tARGET.RSV.LAST_SUCCESSFUL_DATE:DATE(%-d %B %Y)]]",
                        "Priority": 1,
                        "AttributeLevel": "TARGET",
                        "AttributeTarget": "RSV",
                        "AttributeName": "LAST_SUCCESSFUL_DATE",
                        "Operator": "is_not_empty",
                        "Comparator": ""
                    },
                    {
                        "Type": "S",
                        "Name": "Target Substitution BOOKED_APPOINTMENT_DATE",
                        "Description": "Target Substitution BOOKED_APPOINTMENT_DATE [[TARGET.cOVID.BOOKED_APPOINTMENT_DATE:DATE(%-d %B %Y)]]",
                        "Priority": 2,
                        "AttributeLevel": "TARGET",
                        "AttributeTarget": "COVID",
                        "AttributeName": "BOOKED_APPOINTMENT_DATE",
                        "Operator": "is_not_empty",
                        "Comparator": ""
                    },
                    {
                        "Type": "S",
                        "Name": "Target Substitution BOOKED_APPOINTMENT_PROVIDER",
                        "Description": "Target Substitution BOOKED_APPOINTMENT_PROVIDER [[TARGET.RSV.bOOKED_APPOINTMENT_PROVIDER]]",
                        "Priority": 3,
                        "AttributeLevel": "TARGET",
                        "AttributeTarget": "RSV",
                        "AttributeName": "BOOKED_APPOINTMENT_PROVIDER",
                        "Operator": "is_not_empty",
                        "Comparator": ""
                    },
                    {
                        "Type": "S",
                        "Name": "Target Substitution INVALID_DOSES_COUNT",
                        "Description": "Target Substitution INVALID_DOSES_COUNT [[TARGET.COVID.INVALID_DOSES_COUNT]]",
                        "Priority": 4,
                        "AttributeLevel": "TARGET",
                        "AttributeTarget": "COVID",
                        "AttributeName": "INVALID_DOSES_COUNT",
                        "Operator": "is_not_empty",
                        "Comparator": ""
                    },
                    {
                        "Type": "S",
                        "Name": "Target Substitution LAST_INVITE_DATE",
                        "Description": "Target Substitution LAST_INVITE_DATE [[TARGET.RSV.LAST_INVITE_DATE:dATE(%-d %B %Y)]]",
                        "Priority": 5,
                        "AttributeLevel": "TARGET",
                        "AttributeTarget": "RSV",
                        "AttributeName": "LAST_INVITE_DATE",
                        "Operator": "is_not_empty",
                        "Comparator": ""
                    },
                    {
                        "Type": "S",
                        "Name": "Target Substitution LAST_INVITE_STATUS",
                        "Description": "Target Substitution LAST_INVITE_STATUS [[TARGET.COVID.LAST_INVITE_STATUS]]",
                        "Priority": 6,
                        "AttributeLevel": "TARGET",
                        "AttributeTarget": "COVID",
                        "AttributeName": "LAST_INVITE_STATUS",
                        "Operator": "is_not_empty",
                        "Comparator": ""
                    },
                    {
                        "Type": "S",
                        "Name": "Target Substitution LAST_VALID_DOSE_DATE",
                        "Description": "Target Substitution LAST_VALID_DOSE_DATE [[TARGET.RSV.LAST_VALID_DOSE_DATE]]",
                        "Priority": 7,
                        "AttributeLevel": "TARGET",
                        "AttributeTarget": "RSV",
                        "AttributeName": "LAST_VALID_DOSE_DATE",
                        "Operator": "is_not_empty",
                        "Comparator": ""
                    },
                    {
                        "Type": "S",
                        "Name": "Target Substitution VALID_DOSES_COUNT",
                        "Description": "Target Substitution VALID_DOSES_COUNT [[TARGET.COVID.VALID_DOSES_COUNT]]",
                        "Priority": 8,
                        "AttributeLevel": "TARGET",
                        "AttributeTarget": "COVID",
                        "AttributeName": "VALID_DOSES_COUNT",
                        "Operator": "is_not_empty",
                        "Comparator": ""
                    },
                    {
                        "Type": "S",
                        "Name": "Person Substitution DATE_OF_BIRTH",
                        "Description": "Target Substitution DATE_OF_BIRTH [[pERSON.DATE_OF_BIRTH:DATE(%-d %B %Y)]]",
                        "Priority": 9,
                        "AttributeLevel": "PERSON",
                        "AttributeName": "DATE_OF_BIRTH",
                        "Operator": "is_not_empty",
                        "Comparator": ""
                    },
                    {
                        "Type": "S",
                        "Name": "Person Substitution GENDER",
                        "Description": "Target Substitution GENDER [[PERSON.GENDER]]",
                        "Priority": 10,
                        "AttributeLevel": "PERSON",
                        "AttributeName": "GENDER",
                        "Operator": "is_not_empty",
                        "Comparator": ""
                    },
                    {
                        "Type": "S",
                        "Name": "Person Substitution POSTCODE",
                        "Description": "Target Substitution POSTCODE [[PERSON.pOSTCODE]]",
                        "Priority": 11,
                        "AttributeLevel": "PERSON",
                        "AttributeName": "POSTCODE",
                        "Operator": "is_not_empty",
                        "Comparator": ""
                    },
                    {
                        "Type": "S",
                        "Name": "Person Substitution POSTCODE_SECTOR",
                        "Description": "Target Substitution POSTCODE_SECTOR [[PERSON.POSTCODE_SECTOR]]",
                        "Priority": 12,
                        "AttributeLevel": "PERSON",
                        "AttributeName": "POSTCODE_SECTOR",
                        "Operator": "is_not_empty",
                        "Comparator": ""
                    },
                    {
                        "Type": "S",
                        "Name": "Person Substitution POSTCODE_OUTCODE",
                        "Description": "Target Substitution POSTCODE_OUTCODE [[PERSON.POSTCODE_OUTCODE]]",
                        "Priority": 13,
                        "AttributeLevel": "PERSON",
                        "AttributeName": "POSTCODE_OUTCODE",
                        "Operator": "is_not_empty",
                        "Comparator": ""
                    },
                    {
                        "Type": "S",
                        "Name": "Person Substitution MSOA",
                        "Description": "Target Substitution MSOA [[PERSON.MSOA]]",
                        "Priority": 14,
                        "AttributeLevel": "PERSON",
                        "AttributeName": "MSOA",
                        "Operator": "is_not_empty",
                        "Comparator": ""
                    },
                    {
                        "Type": "S",
                        "Name": "Person Substitution LSOA",
                        "Description": "Target Substitution LSOA [[PERSON.LSOA]]",
                        "Priority": 15,
                        "AttributeLevel": "PERSON",
                        "AttributeName": "LSOA",
                        "Operator": "is_not_empty",
                        "Comparator": ""
                    },
                    {
                        "Type": "S",
                        "Name": "Person Substitution LOCAL_AUTHORITY",
                        "Description": "Target Substitution LOCAL_AUTHORITY [[PERSON.LOCAL_AUTHORITY]]",
                        "Priority": 16,
                        "AttributeLevel": "PERSON",
                        "AttributeName": "LOCAL_AUTHORITY",
                        "Operator": "is_not_empty",
                        "Comparator": ""
                    },
                    {
                        "Type": "S",
                        "Name": "Person Substitution GP_PRACTICE_CODE",
                        "Description": "Target Substitution GP_PRACTICE_CODE [[PERSON.GP_PRACTICE_CODE]]",
                        "Priority": 17,
                        "AttributeLevel": "PERSON",
                        "AttributeName": "GP_PRACTICE_CODE",
                        "Operator": "is_not_empty",
                        "Comparator": ""
                    },
                    {
                        "Type": "S",
                        "Name": "Person Substitution PCN",
                        "Description": "Target Substitution PCN [[PERSON.PCN]]",
                        "Priority": 18,
                        "AttributeLevel": "PERSON",
                        "AttributeName": "PCN",
                        "Operator": "is_not_empty",
                        "Comparator": ""
                    },
                    {
                        "Type": "S",
                        "Name": "Person Substitution ICB",
                        "Description": "Target Substitution ICB [[PERSON.ICB]]",
                        "Priority": 19,
                        "AttributeLevel": "PERSON",
                        "AttributeName": "ICB",
                        "Operator": "is_not_empty",
                        "Comparator": ""
                    },
                    {
                        "Type": "S",
                        "Name": "Person Substitution COMMISSIONING_REGION",
                        "Description": "Target Substitution COMMISSIONING_REGION [[PERSON.COMMISSIONING_REGION]]",
                        "Priority": 20,
                        "AttributeLevel": "PERSON",
                        "AttributeName": "COMMISSIONING_REGION",
                        "Operator": "is_not_empty",
                        "Comparator": ""
                    },
                    {
                        "Type": "S",
                        "Name": "Person Substitution 13Q_FLAG",
                        "Description": "Target Substitution 13Q_FLAG [[PERSON.13Q_FLAG]]",
                        "Priority": 21,
                        "AttributeLevel": "PERSON",
                        "AttributeName": "13Q_FLAG",
                        "Operator": "is_not_empty",
                        "Comparator": ""
                    },
                    {
                        "Type": "S",
                        "Name": "Person Substitution CARE_HOME_FLAG",
                        "Description": "Target Substitution CARE_HOME_FLAG [[PERSON.CARE_HOME_FLAG]]",
                        "Priority": 22,
                        "AttributeLevel": "PERSON",
                        "AttributeName": "CARE_HOME_FLAG",
                        "Operator": "is_not_empty",
                        "Comparator": ""
                    },
                    {
                        "Type": "S",
                        "Name": "Person Substitution DE_FLAG",
                        "Description": "Target Substitution DE_FLAG [[PERSON.DE_FLAG]]",
                        "Priority": 23,
                        "AttributeLevel": "PERSON",
                        "AttributeName": "DE_FLAG",
                        "Operator": "is_not_empty",
                        "Comparator": ""
                    }
                ],
                "ActionsMapper": {
                    "TEST_ACTION": {
                        "ExternalRoutingCode": "TestActionDefault",
                        "ActionDescription": "TestActionDefault Description",
                        "ActionType": "ButtonWithAuthLink",
                        "UrlLink": "http://www.nhs.uk/book-rsv",
                        "UrlLabel": "TestActionDefault"
                    },
                    "TEST_NOT_ACTION": {
                        "ExternalRoutingCode": "TestNotAction",
                        "ActionDescription": "TestNotAction Description",
                        "ActionType": "ButtonWithAuthLink",
                        "UrlLink": null,
                        "UrlLabel": ""
                    },
                    "TEST_NOT_ELI": {
                        "ExternalRoutingCode": "TestNotEligible",
                        "ActionDescription": "## You are not eligible as your dob is [[PERSON.DATE_OF_BIRTH]].",
                        "ActionType": "ButtonWithAuthLink",
                        "UrlLink": "http://www.nhs.uk/book-rsv",
                        "UrlLabel": "You're not Eligible"
                    }
                }
            }
        ]
    }
}
